<app-template>

    <!--------------------------------------------------------------------------
    ---                              NAVBAR                                  ---
    --------------------------------------------------------------------------->

    <app-navbar>
        <app-navbar-button
            [routerLink]="['/child/profile']"
            routerLinkActive="active"
        >
            <app-user-card [user]="user" class="horizontal navbar"/>
        </app-navbar-button>

        <app-navbar-button
            [routerLink]="['/child/joining-games']"
            routerLinkActive="active"
        >
            Jouer
        </app-navbar-button>

        <app-navbar-button
            [routerLink]="['/child/settings']"
            routerLinkActive="active"
        >
            Options
        </app-navbar-button>
    </app-navbar>



    <!--------------------------------------------------------------------------
    ---                               MAIN                                   ---
    --------------------------------------------------------------------------->

    <app-body>
       <div class="game-mode" [class.expanded]="selected">
            <h2>Choisissez votre mode de jeu !</h2>

            <ng-container *ngIf="!selected">
                <app-expandable-button
                class="card-wrapper"
                title="Solo"
                imageUrl="../../assets/images/icons/solo.png"
                description="Vous affronterez une horde de crabe, seul, mais dÃ©terminÃ©(e), arriveriez vous Ã  les repousser ?"
                mode="solo"
                [expanded]="false"
                (expand)="onExpand($event)">
                </app-expandable-button>

                <app-expandable-button
                class="card-wrapper"
                title="Ã‰quipe"
                imageUrl="../../assets/images/icons/multi.png"
                description="Les crabes n'ont pas peur d'une bande d'enfant comme vous, montrez leur le contraire !"
                mode="multi"
                [expanded]="false"
                (expand)="onExpand($event)">
                </app-expandable-button>
            </ng-container>

            <ng-container *ngIf="selected">
                <app-expandable-button
                class="card-wrapper expanded-card"
                [title]="selected === 'solo' ? 'Solo' : 'Ã‰quipe'"
                subtitle="Les rÃ¨gles du jeu"
                [mode]="selected"
                [expanded]="true"
                imageUrl="'../../assets/images/icons/ergo_choice.png'"
                [description]="selected === 'solo' ? 
                    'ğŸ¦€ Ecrivez les rÃ©ponses aux questions pour Ã©liminer un crabe\n\nğŸ›¡ï¸ DÃ©fendez votre position des hordes qui arrivent\n\nğŸ† Gagnez des succÃ¨s et des badges qui tÃ©moigneront de votre rÃ©ussite\n\nğŸ“ˆ AmÃ©liorez vous Ã  chaque fois'
                    : 
                    'ğŸ¦€ Ecrivez les rÃ©ponses aux questions pour Ã©liminer un crabe\n\nğŸ›¡ï¸ DÃ©fendez votre position et vos alliÃ©s\n\nâš”ï¸ Mettez vous face Ã  l\'ennemi pour pouvoir l\'Ã©liminer\n\nğŸ† Gagnez des succÃ¨s et des badges qui tÃ©moigneront de votre rÃ©ussite\n\nğŸ“ˆ AmÃ©liorez vous Ã  chaque fois'"
                (expand)="onExpand($event)">
                    <div class="game-list" *ngIf="games && games.length && selected !== 'solo'">
                        <p class="title">Liste des parties</p>
                        <p class="sub-title">Cliquez pour rejoindre</p>
                        <app-game-card *ngFor="let game of games"
                            [gameId]="game.gameId"
                            [playerCount]="game.players.length"
                            [gameState]="game.state"
                            (click)="joinGame(game.gameId)"
                        >
                        </app-game-card>
                    </div>
                    <p *ngIf="!games || !games.length && selected !== 'solo'">En attente de parties...</p>
                </app-expandable-button>

            </ng-container>
        </div>
        
        <div class="back-button-container" *ngIf="selected">
            <div class="back-button" (click)="selected = null">Retour</div>
        </div>
        <!--
        <app-inner-box *ngIf="games && games.length" class="scrollable column no-background medium center-content" style="width: 40vw;">
            <p class="title">Liste des parties</p>
            <p class="sub-title">Cliquez pour rejoindre</p>
            <app-game-card *ngFor="let game of games"
                [gameId]="game.gameId"
                [playerCount]="game.players.length"
                [gameState]="game.state"
                (click)="joinGame(game.gameId)"
            >
            </app-game-card>
        </app-inner-box>
        <p *ngIf="!games || !games.length">En attente de parties...</p>
        -->
    </app-body>

</app-template>